<!--
  Generated template for the MessagedetailPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<!--
  Generated template for the MessagePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-buttons left>
      <button ion-button icon-only (click)="previous()">
        <ion-icon style="color:#fff" ios="ios-arrow-back" md="md-arrow-back"></ion-icon>
      </button>
    </ion-buttons>
    <ion-title>Message</ion-title>

  </ion-navbar>

</ion-header>

<ion-content padding>
  <div class="info">
    <img class="grl" *ngIf="senderphoto!=''" src="{{senderphoto}}" width="28" height="28">
    <img class="grl" *ngIf="senderphoto==''" src="../assets/imgs/nouser.jpg" width="28" height="28" alt="No Photo">
    <div class="msg-info">
      <div class="user-name">{{sendername}}</div>
      <div class="p"  *ngIf="receiver_id!=''">to {{receiver_id}}</div>
      <div class="time-date">{{message_date_mobileview}}</div>
    </div>


    <div class="list-icon">
      <ion-icon *ngIf="priority_lowclass!=''" ngClass="{{priority_lowclass}}" name="md-arrow-round-down" (click)="getPrority(1)"
        style="
        font-size: 37px;
        left: 90%;
        top: 20%;
        position: absolute;"></ion-icon>
      <ion-icon *ngIf="priority_highclass!=''" ngClass="{{priority_highclass}}" name="md-flag" (click)="getPrority(2)" style="
        font-size: 37px;
        left: 90%;
        top: 20%;
        position: absolute;"></ion-icon>

      <button class="profile">
        <ion-icon name="star" *ngIf="is_favorite==1" style="font-size: 30px;color: orange;"></ion-icon>
        <ion-icon name="star-outline" *ngIf="is_favorite==0" style="font-size:30px"></ion-icon>
      </button>
    </div>




  </div>
  <div class="subject">
    <h1>{{messages_subject}}</h1>
    {{messages_body_html}}
  </div>

  <div class="attachment" *ngIf="addedImgLists.length>0">
    <div class="attach" (click)="toggle(isopenorclose)">
      <h1>{{addedImgLists.length}} Attachments ({{totalFileSize}})</h1>
      <button>
        <ion-icon name="md-arrow-dropup" *ngIf="open>0"></ion-icon>
        <ion-icon name="md-arrow-dropdown" *ngIf="close>0"></ion-icon>
      </button>
    </div>
    <div *ngIf="open>0">
      <div class="file" *ngFor="let imageitem of addedImgLists; let i = index">
        <h1 style="width:90%">{{imageitem.fileName}}</h1>
        <h2>{{imageitem.fileSize}}</h2>
        <button (click)="preview(addedImgLists[i],'MessagedetailPage',from,favstatus,message_readstatus,messageid)">
          <ion-icon name="download"></ion-icon>
        </button>
      </div>
    </div>
  </div>
</ion-content>