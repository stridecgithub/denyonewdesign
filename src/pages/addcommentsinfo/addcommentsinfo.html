<!--
  Generated template for the Addcomment_remarkinfoPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<!--
  Generated template for the AddcalendarPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons left>
      <button ion-button icon-only (click)="previous()">
        <ion-icon ios="ios-close" md="md-close"></ion-icon>
      </button>
    </ion-buttons>

    <ion-title>{{pageTitle}} Comment</ion-title>

  </ion-toolbar>
</ion-header>

<ion-content>
  <form [formGroup]="form" (ngSubmit)="saveEntry()" enctype='application/x-www-form-urlencoded' method="post">

    <ion-row class="servicing-details-heading">
      <ion-col class="col" col-12>
        <h4>Comment Info</h4>
      </ion-col>
    </ion-row>

    <div class="servicing-details-form">
      <ion-list style="margin-bottom:0">
        <ion-item style="margin-left:-6px">
          <ion-label stacked><span style="margin-left:14px">Subject</span><span class="mandatory">*</span></ion-label>
          <ion-input style="margin-right:0;margin-bottom:0px;" class="{{form.controls.comment_subject.errors && form.controls.comment_subject.dirty ? 'error-round-square' : 'error-round-non-square'}}"  type="text" formControlName="comment_subject"
            [(ngModel)]="comment_subject"></ion-input>
        </ion-item>
     
        <ion-item    style="margin-left: 8px;width: 95%;" class="no-line">
          <ion-label stacked>Remark <span class="mandatory">*</span></ion-label>

        </ion-item>
        <div class="unit-form-group">
          <div>
            <ion-list>
              <textarea class="{{form.controls.comment_remark.errors && form.controls.comment_remark.dirty ? 'error-round-square' : 'error-round-non-square'}} comment_remark" formControlName="comment_remark" [(ngModel)]="comment_remark" type="text"  value="" name="comment_remark"
                style="margin-left:5px;background:none;border-top:none;border-left:none;border-right:none;width: 97%;"></textarea>

            </ion-list>
          </div>
        </div>
      </ion-list>

      <ion-row class="attachment-row" style="border-bottom: none; padding-left:10px;padding-right:10px; border-top: none">
        <ion-col class="col" col-12>
          <h6 style="margin-bottom: 0; margin-top: 0">Attachments</h6>
        </ion-col>
      </ion-row>

      <!-- <progress value="{{progress}}" max="100" *ngIf="isProgress"> </progress>
          <span *ngIf="isProgress" style="padding:2px">{{progress}}%</span> -->

      <div class="progress-outer" *ngIf="isProgress">
        <div class="progress-inner" [style.width]="progress + '%'">
        </div>
      </div>


      <ion-row class="attachment-row" style="border-top: none;padding-left:10px;padding-right:10px;" *ngIf="addedServiceImgLists.length==0">
        <ion-col class="col" col-12 style="padding: 10px 5px">
          <button (click)="fileChooser(micro_timestamp)" *ngIf="isUploaded">
            <ion-icon name="add"></ion-icon>
          </button>
        </ion-col>
      </ion-row>


      <ion-row class="attachment-row" style="border-top: none">
        <ion-col class="col" col-3 *ngFor="let attachitem of addedServiceImgLists; let i = index" [attr.data-index]="i">
          <div>
            <img src="{{addedServiceImgLists[i].imgSrc}}" width="50" height="50" alt="">
            <span>
              <ion-icon name="close" (click)="doRemoveResouce(addedServiceImgLists[i].resouce_id,attachitem)"></ion-icon>
            </span>
          </div>
        </ion-col>

        <ion-col class="col" col-9 style="padding: 25px 10px" *ngIf="addedServiceImgLists.length>0">
          <button (click)="fileChooser(micro_timestamp)" *ngIf="isUploaded">
            <ion-icon name="add"></ion-icon>
          </button>
        </ion-col>
      </ion-row>
    </div>



    <div class="save-btn">
      <button [disabled]="!form.valid  || isSubmitted">Save</button>
    </div>
  </form>
</ion-content>